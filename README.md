# Log Analyzer

Log Analyzer — это Python-скрипт для анализа логов веб-приложения. Он обрабатывает лог-файлы, извлекает информацию о запросах к маршрутам и уровнях логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL) и выводит статистику в виде таблицы. Поддерживается многопроцессная обработка для ускорения анализа и построчное чтение файлов для эффективной работы с большими файлами.

## Возможности
- Анализ логов с фильтрацией запросов `django.request`.
- Подсчет запросов по маршрутам и уровням логирования.
- Многопроцессная обработка для параллельного анализа нескольких файлов.
- Расширяемая архитектура через абстрактный класс `Report`.
- Вывод результатов в удобной табличной форме.

## Установка
1. Убедитесь, что у вас установлен Python 3.12+.
2. Клонируйте репозиторий или скачайте скрипт `log_analyzer.py`.
3. Установите зависимости (если используются тесты):
   ```bash
   pip install -r requirements.txt
   ```
## Использование
Скрипт запускается из командной строки с указанием лог-файлов и типа отчета.
Пример команды
```bash
python main.py logs/app1.log logs/app2.log --report handlers
```
`logs/app1.log`, `logs/app2.log`: Путь к лог-файлам.

`--report handlers`: Тип отчета (в данном случае handlers для анализа маршрутов).

Формат логов
Скрипт ожидает логи, содержащие строки вида:

`2023-10-10 12:00:00 django.request INFO /api/users/ ...`

Где:
`django.request`: Индикатор запроса.

`INFO, DEBUG, etc.`: Уровень логирования.

`/api/users/`: Маршрут.

Пример вывода:
```
Total requests: 100

HANDLER                          DEBUG    INFO WARNING   ERROR CRITICAL
/api/users/                         10      20       5       2        0
/api/posts/                          5      15       3       1        0
                                    15      35       8       3        0
```
Тестирование
Для проверки функциональности используются тесты на pytest.

Запустите тесты:
```bash
pytest test_log_analyzer.py -v
```

## Структура проекта
`main.py`: Основной скрипт.

`test_log_analyzer.py`: Тесты для проверки функциональности.

Расширение
Чтобы добавить новый тип отчета:
Создайте класс, наследующий `Report`.

Реализуйте метод `generate`.

Добавьте тип отчета в словарь `parametr_to_class` в `log_analyzer.py`.

Ограничения
- Ожидается определенный формат логов.


